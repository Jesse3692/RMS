# 权限管理系统

## 功能

### 登录

- 通过 Flask-JWT-Extended 生成 token
- 通过 redis 保存 token
- token 每两小时过期
- 提供刷新接口，两小时刷新一次，直至离开页面

### 使用到的模块

- Flask==3.0.3
- Flask-Login==0.6.3
- Flask-CORS==5.0.0
- Flask-JWT-Extended==4.6.0
- Flask-SQLAlchemy==3.1.1
- PyMySQL==1.1.1
- Flask-Bcrypt==1.0.1
- Flask-JSONRPC==3.0.1
- Werkzeug==3.0.4
- SQLAlchemy~=2.0.36
- redis>=4.5.0

### 用户

- 用户属于一个或多个部门
- 用户属于一个或多个职位
- 用户拥有一个或多个角色
- 考虑到用户数据的多样性，用户数据得用三张表来实现，一张用户主表，一张用户列表，最后一张用户详细信息表，目前在代码中已经实现一部门，可以参考

### 部门

- 部门拥有多个用户
- 职位属于部门

### 权限

- 预先定义
- 不可修改
- 权限可以分配给多个角色
- 权限也可以赋给多个用户

### 角色

- 用户自定
- 角色拥有多个权限
- 用户可以属于多个角色

### 职位

- 用户可以拥有多个职位
- 一个用户在一个部门只能拥有一个职位
- 职位与角色无直接关联

## 权限

### 用户管理

- 查看用户列表
- 创建用户
- 编辑用户
- 禁用/启用用户
- 分配角色与权限

### 部门与组织管理权限

- 查看组织结构
- 创建部门
- 编辑部门信息
- 删除部门
- 跨部门权限管理

### 角色与权限管理权限

- 创建角色
- 编辑角色
- 分配角色权限
- 删除角色

### 审批与流程管理权限

- 创建流程模板
- 编辑流程模板
- 启动流程实例
- 审批权限
- 查看流程状态

### 文档管理权限

- 查看文档
- 上传文档
- 编辑文档
- 删除文档
- 下载文档

### 系统与设置管理权限

- 系统配置
- 用户日志管理
- 数据备份和恢复
- 访问控制管理
- 安全与权限设置

## 系统默认角色

### 系统管理员

- 最高权限

### 普通员工

- 员工所属部门的基本访问权限，以及个人信息的查询和修改

### 访客

- 给外部合作伙伴或审计人员使用，只能查看指定内容，无法修改和删除

### 其他

- 在权限列表中，每个权限对应每个功能，功能需要实现，权限列表也写入数据库
- 使用装饰器对 API 做权限和角色控制
